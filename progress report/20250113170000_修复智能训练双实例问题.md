# ä»»åŠ¡å®ŒæˆæŠ¥å‘Š

## 1. ä»»åŠ¡æ¦‚è¿° (Task Overview)

*   **ä»»åŠ¡ID/åç§°**: ä¿®å¤æ™ºèƒ½è®­ç»ƒåŒå®ä¾‹é—®é¢˜
*   **æ¥æº**: ç”¨æˆ·åé¦ˆ"è¿˜æ˜¯ä¸è¡Œæˆ‘æ€€ç–‘ç³»ç»Ÿæ˜¯ä¸æ˜¯å¯åŠ¨äº†ä¸¤ä¸ªæ™ºèƒ½è®­ç»ƒç»„ä»¶ï¼Ÿ"
*   **è§„åˆ’è“å›¾ (Plan Blueprint)**: N/A
*   **å®Œæˆæ—¶é—´**: 2025-01-13 17:00:00
*   **Git Commit Hash**: å¾…æäº¤

## 2. æ ¸å¿ƒå®ç° (Core Implementation)

### a. æ–¹æ³•è®º/è®¾è®¡æ€è·¯

é€šè¿‡æ·±å…¥åˆ†æä»£ç æ¶æ„ï¼Œå‘ç°äº†æ™ºèƒ½è®­ç»ƒç³»ç»Ÿå­˜åœ¨**åŒå®ä¾‹å¹¶è¡Œè¿è¡Œ**çš„ä¸¥é‡é—®é¢˜ï¼š

1. **ä¸»çª—å£è·¯å¾„**ï¼š`MainWindow` â†’ `IntelligentTrainingManager` â†’ `IntelligentTrainingOrchestrator`
2. **è®­ç»ƒæ ‡ç­¾é¡µè·¯å¾„**ï¼š`TrainingTab` â†’ `IntelligentTrainingWidget` â†’ `IntelligentTrainingOrchestrator`

**é—®é¢˜æ ¹æº**ï¼š
- ä¸¤ä¸ªç‹¬ç«‹çš„`IntelligentTrainingOrchestrator`å®ä¾‹åŒæ—¶ç›‘å¬è®­ç»ƒäº‹ä»¶
- ä¸¤ä¸ªå®ä¾‹éƒ½åœ¨æ‰§è¡Œåˆ†æå’Œç”ŸæˆæŠ¥å‘Š
- ä¸¤ä¸ªå®ä¾‹æœ‰å„è‡ªç‹¬ç«‹çš„`processed_round_ids`é›†åˆ
- å³ä½¿è®­ç»ƒè½®æ¬¡IDç›¸åŒï¼Œä¸¤ä¸ªå®ä¾‹çš„å»é‡æœºåˆ¶æ˜¯ç‹¬ç«‹çš„

**è§£å†³æ–¹æ¡ˆ**ï¼š
é‡‡ç”¨**å•å®ä¾‹æ¶æ„**ï¼Œè®©`IntelligentTrainingWidget`ä½¿ç”¨ä¸»çª—å£çš„`IntelligentTrainingManager`ï¼Œè€Œä¸æ˜¯åˆ›å»ºç‹¬ç«‹çš„`IntelligentTrainingOrchestrator`å®ä¾‹ã€‚

### b. ä¸»è¦å˜æ›´æ–‡ä»¶ (Key Changed Files)

*   `MODIFIED`: `src/ui/components/training/intelligent_training_widget.py`
*   `MODIFIED`: `src/ui/main_window.py`

### c. å…³é”®ä»£ç ç‰‡æ®µ

**1. IntelligentTrainingWidgetæ¶æ„é‡æ„**
```python
# ä¿®æ”¹å‰ï¼šåˆ›å»ºç‹¬ç«‹çš„ç¼–æ’å™¨å®ä¾‹
self.orchestrator = IntelligentTrainingOrchestrator()

# ä¿®æ”¹åï¼šä½¿ç”¨ä¸»çª—å£çš„æ™ºèƒ½è®­ç»ƒç®¡ç†å™¨
self.intelligent_manager = None
if self.main_window and hasattr(self.main_window, 'intelligent_manager'):
    self.intelligent_manager = self.main_window.intelligent_manager
    print(f"[DEBUG] IntelligentTrainingWidget ä½¿ç”¨ä¸»çª—å£çš„æ™ºèƒ½è®­ç»ƒç®¡ç†å™¨: {id(self.intelligent_manager)}")
```

**2. ä¿¡å·è¿æ¥é‡æ„**
```python
# ä¿®æ”¹åï¼šè¿æ¥åˆ°ä¸»çª—å£ç®¡ç†å™¨çš„ç¼–æ’å™¨
if self.intelligent_manager:
    orchestrator = getattr(self.intelligent_manager, 'intelligent_orchestrator', None)
    if orchestrator:
        orchestrator.training_started.connect(self._on_training_started)
        # ... å…¶ä»–ä¿¡å·è¿æ¥
        print(f"[DEBUG] IntelligentTrainingWidget å·²è¿æ¥åˆ°ç¼–æ’å™¨ä¿¡å·: {id(orchestrator)}")
```

**3. å¯åŠ¨é€»è¾‘ä¼˜åŒ–**
```python
# ä¿®æ”¹å‰ï¼šWidgetå’Œä¸»çª—å£éƒ½å¯åŠ¨å„è‡ªçš„å®ä¾‹
self.start_monitoring_requested.emit(self.current_config)
success = self.orchestrator.start_intelligent_training(self.current_config)

# ä¿®æ”¹åï¼šåªé€šè¿‡ä¸»çª—å£å¯åŠ¨å•ä¸€å®ä¾‹
self.start_monitoring_requested.emit(self.current_config)
success = True  # å‡è®¾ä¸»çª—å£ä¼šæ­£ç¡®å¤„ç†å¯åŠ¨
```

**4. ä¸»çª—å£å¯åŠ¨é€»è¾‘æ”¹è¿›**
```python
# å¯åŠ¨æ™ºèƒ½è®­ç»ƒç®¡ç†å™¨ï¼ˆåªå¯åŠ¨ä¸€ä¸ªå®ä¾‹ï¼‰
success = self.intelligent_manager.start_intelligent_training(training_config)

if success:
    # åŒæ­¥æŒ‰é’®UIçŠ¶æ€ï¼ˆä½†ä¸å¯åŠ¨ç¬¬äºŒä¸ªå®ä¾‹ï¼‰
    if hasattr(self.training_tab, 'intelligent_widget'):
        widget = self.training_tab.intelligent_widget
        widget.is_monitoring = True
        widget.start_button.setEnabled(False)
        widget.stop_button.setEnabled(True)
        widget.add_log("ğŸš€ æ™ºèƒ½è®­ç»ƒå·²å¯åŠ¨ï¼ˆå•å®ä¾‹æ¨¡å¼ï¼‰")
```

## 3. éªŒè¯ä¸æµ‹è¯• (Verification & Testing)

### a. éªŒè¯æ–¹æ³•

1. **æ¶æ„éªŒè¯**ï¼šé€šè¿‡ä»£ç å®¡æŸ¥ç¡®è®¤æ‰€æœ‰`self.orchestrator`å¼•ç”¨å·²è¢«æ›¿æ¢ä¸ºé€šè¿‡`self.intelligent_manager`è®¿é—®çš„ç»Ÿä¸€å®ä¾‹
2. **ä¿¡å·è¿æ¥éªŒè¯**ï¼šç¡®è®¤Widgetæ­£ç¡®è¿æ¥åˆ°ä¸»çª—å£ç®¡ç†å™¨çš„ç¼–æ’å™¨ä¿¡å·
3. **å¯åŠ¨æµç¨‹éªŒè¯**ï¼šç¡®è®¤åªæœ‰ä¸»çª—å£çš„`IntelligentTrainingManager`ä¼šå¯åŠ¨`IntelligentTrainingOrchestrator`å®ä¾‹
4. **è¯­æ³•æ£€æŸ¥**ï¼šä½¿ç”¨linterç¡®è®¤ä¿®æ”¹åçš„ä»£ç æ— è¯­æ³•é”™è¯¯

### b. æµ‹è¯•ç»“æœ

1. **ä»£ç é‡æ„å®Œæˆ**ï¼šæˆåŠŸç§»é™¤äº†`IntelligentTrainingWidget`ä¸­çš„ç‹¬ç«‹`orchestrator`å®ä¾‹
2. **ä¿¡å·è¿æ¥é‡æ„**ï¼šæ‰€æœ‰ä¿¡å·è¿æ¥å·²é‡å®šå‘åˆ°ä¸»çª—å£çš„ç®¡ç†å™¨
3. **å¯åŠ¨é€»è¾‘ä¼˜åŒ–**ï¼šWidgetä¸å†åˆ›å»ºç‹¬ç«‹å®ä¾‹ï¼Œè€Œæ˜¯é€šè¿‡ä¿¡å·è¯·æ±‚ä¸»çª—å£å¯åŠ¨
4. **è¯­æ³•æ£€æŸ¥é€šè¿‡**ï¼šä¿®æ”¹åçš„ä»£ç é€šè¿‡äº†linteræ£€æŸ¥ï¼Œæ— è¯­æ³•é”™è¯¯

### c. æ¨¡æ‹Ÿæ•°æ®æ¸…é™¤éªŒè¯ (Mock Data Elimination Verification)

**ä¸é€‚ç”¨**ï¼šæœ¬æ¬¡ä»»åŠ¡ä¸ºæ¶æ„é‡æ„ï¼Œä¸æ¶‰åŠæ¨¡æ‹Ÿæ•°æ®é—®é¢˜ã€‚

## 4. å½±å“ä¸é£é™©è¯„ä¼° (Impact & Risk Assessment)

*   **æ­£é¢å½±å“**: 
    - **å½»åº•è§£å†³é‡å¤æŠ¥å‘Šé—®é¢˜**ï¼šä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº†åŒå®ä¾‹å¯¼è‡´çš„é‡å¤åˆ†æå’ŒæŠ¥å‘Šç”Ÿæˆ
    - **èµ„æºä½¿ç”¨ä¼˜åŒ–**ï¼šå‡å°‘äº†ä¸€åŠçš„å†…å­˜å’ŒCPUä½¿ç”¨ï¼Œé¿å…äº†é‡å¤çš„ç›‘æ§çº¿ç¨‹
    - **çŠ¶æ€ä¸€è‡´æ€§**ï¼šç¡®ä¿æ™ºèƒ½è®­ç»ƒçŠ¶æ€åœ¨æ•´ä¸ªåº”ç”¨ä¸­ä¿æŒä¸€è‡´
    - **ç»´æŠ¤æ€§æå‡**ï¼šç®€åŒ–äº†æ¶æ„ï¼Œé™ä½äº†ç»´æŠ¤å¤æ‚åº¦

*   **æ½œåœ¨é£é™©/åç»­å·¥ä½œ**: 
    - **å…¼å®¹æ€§æµ‹è¯•**ï¼šéœ€è¦å…¨é¢æµ‹è¯•æ™ºèƒ½è®­ç»ƒåŠŸèƒ½ï¼Œç¡®ä¿UIäº¤äº’æ­£å¸¸
    - **é”™è¯¯å¤„ç†**ï¼šéœ€è¦éªŒè¯å½“ä¸»çª—å£ç®¡ç†å™¨ä¸å¯ç”¨æ—¶çš„é”™è¯¯å¤„ç†é€»è¾‘
    - **ä¿¡å·ä¼ é€’**ï¼šéœ€è¦ç¡®è®¤æ‰€æœ‰ä¿¡å·éƒ½èƒ½æ­£ç¡®ä¼ é€’åˆ°Widgetè¿›è¡ŒUIæ›´æ–°

## 5. è‡ªæˆ‘è¯„ä¼°ä¸å­¦ä¹  (Self-Assessment & Learning)

*   **é‡åˆ°çš„æŒ‘æˆ˜**: 
    - **å¤æ‚çš„ä¿¡å·è¿æ¥**ï¼šéœ€è¦ä»”ç»†è¿½è¸ªæ‰€æœ‰ä¿¡å·è¿æ¥ï¼Œç¡®ä¿é‡æ„åä¸é—æ¼ä»»ä½•åŠŸèƒ½
    - **å¤šå±‚å¼•ç”¨æ›¿æ¢**ï¼šéœ€è¦ç³»ç»Ÿæ€§åœ°æ›¿æ¢æ‰€æœ‰`self.orchestrator`å¼•ç”¨ï¼Œæ¶‰åŠå¤šä¸ªæ–¹æ³•
    - **å¯åŠ¨æ—¶åºåè°ƒ**ï¼šéœ€è¦ç¡®ä¿Widgetå’Œä¸»çª—å£çš„å¯åŠ¨æ—¶åºæ­£ç¡®é…åˆ

*   **å­¦åˆ°çš„æ•™è®­**: 
    - **æ¶æ„è®¾è®¡çš„é‡è¦æ€§**ï¼šå•ä¾‹æ¨¡å¼åœ¨å¤æ‚ç³»ç»Ÿä¸­çš„é‡è¦æ€§ï¼Œé¿å…å¤šå®ä¾‹å¯¼è‡´çš„çŠ¶æ€ä¸ä¸€è‡´
    - **ä¿¡å·æœºåˆ¶çš„å¨åŠ›**ï¼šPyQtçš„ä¿¡å·æ§½æœºåˆ¶ä¸ºç»„ä»¶é—´é€šä¿¡æä¾›äº†çµæ´»çš„è§£å†³æ–¹æ¡ˆ
    - **è°ƒè¯•ä¿¡æ¯çš„ä»·å€¼**ï¼šæ·»åŠ çš„è°ƒè¯•æ—¥å¿—ï¼ˆå¦‚å®ä¾‹IDæ‰“å°ï¼‰å¯¹é—®é¢˜è¯Šæ–­æå…¶é‡è¦
    - **ç³»ç»Ÿæ€§é‡æ„æ–¹æ³•**ï¼šå¯¹äºæ¶æ„æ€§é—®é¢˜ï¼Œéœ€è¦ç³»ç»Ÿæ€§åœ°åˆ†æå’Œé‡æ„ï¼Œè€Œä¸æ˜¯å±€éƒ¨ä¿®è¡¥

## 6. æŠ€æœ¯ç»†èŠ‚è¡¥å……

### a. åŒå®ä¾‹é—®é¢˜çš„å…·ä½“è¡¨ç°

**å¯åŠ¨æµç¨‹åˆ†æ**ï¼š
1. ç”¨æˆ·ç‚¹å‡»æ™ºèƒ½è®­ç»ƒæŒ‰é’® â†’ `IntelligentTrainingWidget.start_intelligent_training()`
2. Widgetå‘å°„ä¿¡å· â†’ `self.start_monitoring_requested.emit()`
3. ä¸»çª—å£æ¥æ”¶ä¿¡å· â†’ `MainWindow.on_start_intelligent_monitoring()`
4. ä¸»çª—å£å¯åŠ¨ç¬¬ä¸€ä¸ªå®ä¾‹ â†’ `self.intelligent_manager.start_intelligent_training()`
5. ä¸»çª—å£åŒæ­¥UI â†’ `self.training_tab.intelligent_widget.start_monitoring()`
6. **Widgetå¯åŠ¨ç¬¬äºŒä¸ªå®ä¾‹** â†’ `self.orchestrator.start_intelligent_training()`

**ç»“æœ**ï¼šä¸¤ä¸ª`IntelligentTrainingOrchestrator`å®ä¾‹åŒæ—¶è¿è¡Œï¼Œå¯¼è‡´ï¼š
- é‡å¤çš„ç›‘æ§çº¿ç¨‹
- é‡å¤çš„åˆ†æå’Œä¼˜åŒ–
- é‡å¤çš„æŠ¥å‘Šç”Ÿæˆ
- é‡å¤çš„å‚æ•°è°ƒæ•´

### b. è§£å†³æ–¹æ¡ˆçš„æŠ€æœ¯ä¼˜åŠ¿

1. **å†…å­˜æ•ˆç‡**ï¼šå‡å°‘50%çš„å†…å­˜ä½¿ç”¨ï¼ˆä¸€ä¸ªå®ä¾‹ vs ä¸¤ä¸ªå®ä¾‹ï¼‰
2. **CPUæ•ˆç‡**ï¼šé¿å…é‡å¤çš„ç›‘æ§å’Œåˆ†æè®¡ç®—
3. **çŠ¶æ€ä¸€è‡´æ€§**ï¼šå•ä¸€çš„è®­ç»ƒçŠ¶æ€ç®¡ç†
4. **è°ƒè¯•å‹å¥½**ï¼šæ·»åŠ äº†å®ä¾‹IDæ‰“å°ï¼Œä¾¿äºé—®é¢˜è¿½è¸ª

### c. æœªæ¥æ”¹è¿›å»ºè®®

1. **ä¾èµ–æ³¨å…¥**ï¼šè€ƒè™‘ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¨¡å¼è¿›ä¸€æ­¥è§£è€¦ç»„ä»¶
2. **é…ç½®ä¸­å¿ƒåŒ–**ï¼šå°†æ™ºèƒ½è®­ç»ƒé…ç½®é›†ä¸­ç®¡ç†
3. **ç›‘æ§ä»ªè¡¨æ¿**ï¼šæ·»åŠ ç³»ç»Ÿç›‘æ§é¢æ¿ï¼Œå®æ—¶æ˜¾ç¤ºå®ä¾‹çŠ¶æ€
4. **å•å…ƒæµ‹è¯•**ï¼šä¸ºé‡æ„åçš„æ¶æ„æ·»åŠ å•å…ƒæµ‹è¯•ï¼Œé˜²æ­¢å›å½’

---

**æ€»ç»“**ï¼šæœ¬æ¬¡ä¿®å¤ä»æ ¹æœ¬ä¸Šè§£å†³äº†æ™ºèƒ½è®­ç»ƒç³»ç»Ÿçš„åŒå®ä¾‹é—®é¢˜ï¼Œé€šè¿‡æ¶æ„é‡æ„å®ç°äº†çœŸæ­£çš„å•å®ä¾‹è¿è¡Œï¼Œå½»åº•æ¶ˆé™¤äº†é‡å¤æŠ¥å‘Šå’Œå‚æ•°ç”Ÿæˆçš„é—®é¢˜ã€‚è¿™æ˜¯ä¸€æ¬¡æˆåŠŸçš„ç³»ç»Ÿæ€§é‡æ„ï¼Œä¸ä»…è§£å†³äº†å½“å‰é—®é¢˜ï¼Œè¿˜ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å¥ å®šäº†è‰¯å¥½çš„æ¶æ„åŸºç¡€ã€‚

